---
# This OnePasswordItem creates a Secret named "mosquitto-auth" in the
# infra-mqtt namespace. The 1Password item must have a field named
# "passwords.conf" containing the mosquitto password file content
# (username:hash format, one per line).
#
# Generate hashes using: mosquitto_passwd -c /tmp/mosquitto_passwd username
#
# Expected 1Password item structure:
# - Item name: mosquitto-auth
# - Field: passwords.conf
# - Value format:
#   frigate:$7$101$...
#   homeassistant:$7$101$...
#   admin:$7$101$...
apiVersion: onepassword.com/v1
kind: OnePasswordItem
metadata:
  name: mosquitto-auth
  namespace: infra-mqtt
spec:
  itemPath: "vaults/HomeLab/items/mosquitto-auth"
