apiVersion: v1
kind: ConfigMap
metadata:
  name: paperless-ngx-config
  namespace: {{ paperless_ngx_deploy_namespace }}
  labels:
    app.kubernetes.io/name: paperless-ngx
    app.kubernetes.io/component: webserver
    app.kubernetes.io/managed-by: ansible
data:
  PAPERLESS_REDIS: "redis://paperless-ngx-broker:6379"
  PAPERLESS_DBHOST: "paperless-ngx-db"
  PAPERLESS_DBPORT: "5432"
{% if paperless_ngx_deploy_enable_tika %}
  PAPERLESS_TIKA_ENABLED: "true"
  PAPERLESS_TIKA_ENDPOINT: "http://paperless-ngx-tika:9998"
{% endif %}
{% if paperless_ngx_deploy_enable_gotenberg %}
  PAPERLESS_TIKA_GOTENBERG_ENDPOINT: "http://paperless-ngx-gotenberg:3000"
{% endif %}
{% for key, value in paperless_ngx_deploy_env_config.items() %}
  {{ key }}: "{{ value }}"
{% endfor %}
